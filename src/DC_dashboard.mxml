<?xml version="1.0" encoding="utf-8"?>
<s:Application xmlns:fx="http://ns.adobe.com/mxml/2009" 
			   xmlns:s="library://ns.adobe.com/flex/spark" 
			   xmlns:mx="library://ns.adobe.com/flex/mx" minWidth="955" minHeight="600" 
			   xmlns:base="services.base.*"			  			    
			   creationComplete="application1_creationCompleteHandler(event)"
			   
			   xmlns:outputTab1="outputTab1.*"
			   xmlns:inputTabas="inputTabas.*"
			   xmlns:inputTab2 = "inputTabas.inputTab2"
			>
	
	<fx:Style source="stilistika.css"/>
	<fx:Script>
		<![CDATA[
			import mx.events.FlexEvent;

			protected function application1_creationCompleteHandler(event:FlexEvent):void
			{				
				this.genWorkingScenarioID();
			}
			
			protected var isInitialized:Boolean = false; 
			
			private var workingScenarioID:int = -1;
			
			private function genWorkingScenarioID():int {
				// here should go scenarioID generator call in utils for unique id
				this.workingScenarioID = 10002;
				return this.workingScenarioID;
			}
			
			protected function tabNavigator_change(event:Event):void
			{
				if (!this.isInitialized) {
					/* this task is done on 1st tab creationComplete event() */
					/*if (this.inputTabai.selectedIndex == 0) {
						this.inpTab.startApp(event);
					}
					else*/ 
					if (this.inputTabai.selectedIndex == 1) {
						this.outTab1.startApp(new FlexEvent("start"));
						this.isInitialized = true;
						this.outTab1.setScenarioID(this.workingScenarioID);
					}
				}
			}

		]]>
	</fx:Script>
	

	<fx:Declarations>		
		<mx:CurrencyFormatter   id="stilius1" precision="4"
								rounding="none"
								decimalSeparatorTo="."
								thousandsSeparatorTo=","
								useThousandsSeparator="true"
								currencySymbol=""
								useNegativeSign="true"                  
		/>

	</fx:Declarations>
		
	<fx:Declarations>
    	
				
	</fx:Declarations>	
	<mx:TabNavigator id="inputTabai" width="99%" height="98%" horizontalCenter="0" verticalCenter="0" 
					 change="tabNavigator_change(event)">
		<!-- <s:NavigatorContent label="InputTabs" width="100%" height="80%" creationComplete="{this.inpTab.startApp(event)}" >												
			 <inputTabas:inputTabas id="inpTab">			 
			 </inputTabas:inputTabas> 		
		</s:NavigatorContent> !-->		
		
		<s:NavigatorContent label="tab3" width="100%" height="100%">
			<inputTabas:inputTab2 id="test3" workingScenarioID="{this.workingScenarioID}">				
			</inputTabas:inputTab2>
		</s:NavigatorContent>
		
		<s:NavigatorContent label="outputTab1" width="100%" height="100%">
			<outputTab1:outputTab1 id="outTab1">				
			</outputTab1:outputTab1>
		</s:NavigatorContent>
	
	</mx:TabNavigator>	
	<s:Label text="experiments with connection. v. 0.1" right="10" top="10"/>
</s:Application>
